@model IEnumerable<TECHNOLOGY_SHOP.Models.tb_SanPham>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using TECHNOLOGY_SHOP.Models
@{
    tb_SanPham tk = (tb_SanPham)Session["sao"];
}

<div class="row container" style="margin-top:1rem">
    <div class="col-8">
        <div id="carouselExampleDark" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="3" aria-label="Slide 4"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="10000">
                    <img src="~/Content/images/banner_4.png" class="d-block w-100" alt="hinh thumnail">
                </div>
                <div class="carousel-item" data-bs-interval="2000">
                    <img src="~/Content/images/banner_2.png" class="d-block w-100" alt="hinh thumnail">
                    <div class="carousel-caption d-none d-md-block">
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="~/Content/images/banner_3.png" class="d-block w-100" alt="hinh thumnail">
                    <div class="carousel-caption d-none d-md-block">
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="~/Content/images/banner_5.png" class="d-block w-100" alt="hinh thumnail">
                    <div class="carousel-caption d-none d-md-block">
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <div class="col-4">
        <div class="container">
            <h4 style="margin:1rem;">Thương hiệu</h4>
            <div class="row g-2">
                @foreach (var item in ViewBag.hangsanphamAll)
                {
                    <a style="text-decoration: none; text-align: center" href="@Url.Action("SanPhamByHang", "Home",new { @id = item.idHang})" class="col-6">
                        <div class="p-3 border btn-group-lg"><b>@item.tenHang</b></div>
                    </a>
                }
                <a style="text-decoration: none; text-align: center" href="@Url.Action("SanPhamByTen", "Home",new { @id = ""})" class="col-6">
                    <div class="p-3 border btn-group-lg"><b>KHÁC...</b></div>
                </a>
            </div>
        </div>
    </div>
</div>


<div class="container" style="margin-top: 1rem; margin-bottom: 1rem">
    <h4 style="margin:1rem;text-align:center">Danh mục sản phẩm</h4>
    <div class="d-flex gap-2 col-6 mx-auto">
        @foreach (var item in ViewBag.loaisanphamAll)
        {
            <a href="@Url.Action("SanPham", "Home",new { @id = item.idLoaiSP})" class="btn btn-outline-primary" role="button">@item.tenLoaiSP</a>
        }


    </div>
</div>

<div style="text-align: center; margin-top: 2rem" class="alert alert-primary" role="alert">
    <h5>
        Điện thoại
    </h5>
</div>

<div class="container">
    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
        @foreach (var item in ViewBag.lst2)
        {

            <div class="col ">
                <div class="card" style="border:none">
                    <div class="panel-body">
                        <a style="text-decoration: none;" href="@Url.Action("Detail", "SanPham", new {id =  item.idSP})">
                            <p><img class="card-img-top" src="@item.hinh" alt=" " style="width: 240px; height: 240px"></p>
                        </a>
                    </div>
                    <div class="card-body int-box">
                        <div style=" height: 40px;">
                            <b style="font-size: 14px;">@item.tenSP</b>
                        </div>
                        <br />
                        @for (int i = 0; i < @item.danhGia; i++)
                        {
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:orange" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }

                        @for (int i = 0; i < 5 - @item.danhGia; i++)
                        {
                            if(@item.danhGia > 4.0)
                            {
                                break;
                            }
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:black; opacity:20%" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }
                        @if (@item.soNguoiDanhGia == 0 || @item.soNguoiDanhGia == null)
                        {
                            <p>(0)</p>
                        }
                        else
                        {
                            <p>(@item.soNguoiDanhGia)</p>
                        }

                        <br />
                        <b style="font-size: 14px; color: red">@String.Format("{0:0,0}", item.giaBan)₫</b>
                        <hr />
                        <a href="@Url.Action("Themgiohang", "Giohang",new { @id = item.idSP, @strURL = Request.Url.ToString() })" class="btn btn-primary">Mua ngay</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<div class="container px-4">
    <div class="row justify-content-md-center">
        <a href="@Url.Action("SanPham", "Home", new { @id = 25})" style="text-align: center; margin-top: 1rem; width: 20rem; height: 55px; text-decoration: none;" class="alert alert-secondary" role="alert">
            <div class="btn-group dropend">
                <h6 class="dropdown-toggle">
                    Xem tất cả
                </h6>
            </div>
        </a>
    </div>
</div>
<hr />

<div style="text-align:center; margin-top:2rem" class="alert alert-warning" role="alert">
    <h5>
        Tablet
    </h5>
</div>


<div class="container">
    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
        @foreach (var item in ViewBag.lst1)
        {

            <div class="col ">
                <div class="card" style="border:none">
                    <div class="panel-body">
                        <a style="text-decoration: none;" href="@Url.Action("Detail", "SanPham", new {id =  item.idSP})">
                            <p><img class="card-img-top" src="@item.hinh" alt=" " style="width: 240px; height: 240px"></p>
                        </a>
                    </div>
                    <div class="card-body int-box">
                        <div style=" height: 40px;">
                            <b style="font-size: 14px;">@item.tenSP</b>
                        </div>
                        <br />
                        @for (int i = 0; i < @item.danhGia; i++)
                        {
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:orange" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }
                        @for (int i = 0; i < 5 - (@item.danhGia); i++)
                        {
                            if (@item.danhGia > 4.0)
                            {
                                break;
                            }
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:black; opacity:20%" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }
                        @if (@item.soNguoiDanhGia == 0 || @item.soNguoiDanhGia == null)
                        {
                            <p>(0)</p>
                        }
                        else
                        {
                            <p>(@item.soNguoiDanhGia)</p>
                        }
                        <br />
                        <b style="font-size: 14px; color: red">@String.Format("{0:0,0}", item.giaBan)₫</b>
                        <hr />
                        <a href="@Url.Action("Muangay", "GioHang",new { @id = item.idSP, @strURL = Request.Url.ToString() })" class="btn btn-primary">
                            Đặt mua
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
<div class="container px-4">
    <div class="row justify-content-md-center">
        <a href="@Url.Action("SanPham", "Home", new { @id = 10})" style="text-align: center; margin-top: 1rem; width: 20rem; height: 55px; text-decoration: none;" class="alert alert-secondary" role="alert">
            <div class="btn-group dropend">
                <h6 class="dropdown-toggle">
                    Xem tất cả
                </h6>
            </div>
        </a>
    </div>
</div>
<hr />

<div style="text-align: center; margin-top: 2rem" class="alert alert-success" role="alert">
    <h5>
        Laptop
    </h5>
</div>


<div class="container">
    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
        @foreach (var item in ViewBag.lst3)
        {

            <div class="col ">
                <div class="card" style="border:none">
                    <div class="panel-body">
                        <a style="text-decoration: none;" href="@Url.Action("Detail", "SanPham", new {id =  item.idSP})">
                            <p><img class="card-img-top" src="@item.hinh" alt=" " style="width: 240px; height: 240px"></p>
                        </a>
                    </div>
                    <div class="card-body int-box">
                        <div style=" height: 40px;">
                            <b style="font-size: 14px;">@item.tenSP</b>
                        </div>
                        <br />
                        @for (int i = 0; i < @item.danhGia; i++)
                        {
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:orange" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }
                        @for (int i = 0; i < 5 - @item.danhGia; i++)
                        {
                            if (@item.danhGia > 4.0)
                            {
                                break;
                            }
                            <svg xmlns="http://www.w3.org/2000/svg" style="color:black; opacity:20%" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                            </svg>
                        }
                        @if (@item.soNguoiDanhGia == 0 || @item.soNguoiDanhGia == null)
                        {
                            <p>(0)</p>
                        }
                        else
                        {
                            <p>(@item.soNguoiDanhGia)</p>
                        }
                        <br />
                        <b style="font-size: 14px; color: red">@String.Format("{0:0,0}", item.giaBan)₫</b>
                        <hr />
                        <a href="@Url.Action("ThemGioHang", "GioHang",new { @id = item.idSP, @strURL = Request.Url.ToString() })" class="btn btn-primary">Đặt mua</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
<div class="container px-4">
    <div class="row justify-content-md-center">
        <a href="@Url.Action("SanPham", "Home", new { @id = 26})" style="text-align: center; margin-top: 1rem; width: 20rem; height: 55px; text-decoration: none;" class="alert alert-secondary" role="alert">
            <div class="btn-group dropend">
                <h6 class="dropdown-toggle">
                    Xem tất cả
                </h6>
            </div>
        </a>
    </div>
</div>